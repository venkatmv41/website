<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Content Management System</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/admin.css">
    <link rel="stylesheet" href="admin-dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/quill/1.3.7/quill.snow.css">
</head>
<body class="admin-body">
    <div class="admin-container">
        <!-- Sidebar Navigation -->
        <nav class="admin-sidebar">
            <div class="admin-logo">
                <h2><i class="fas fa-cog"></i> Admin Panel</h2>
            </div>
            <ul class="admin-nav">
                <li class="nav-item active" data-section="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </li>
                <li class="nav-item" data-section="pages">
                    <i class="fas fa-file-alt"></i>
                    <span>Page Editor</span>
                </li>
                <li class="nav-item" data-section="media">
                    <i class="fas fa-images"></i>
                    <span>Media Manager</span>
                </li>
                <li class="nav-item" data-section="content">
                    <i class="fas fa-edit"></i>
                    <span>Content Editor</span>
                </li>
                <li class="nav-item" data-section="projects">
                    <i class="fas fa-project-diagram"></i>
                    <span>Projects</span>
                </li>
                <li class="nav-item" data-section="focus-areas">
                    <i class="fas fa-bullseye"></i>
                    <span>Focus Areas</span>
                </li>
                <li class="nav-item" data-section="settings">
                    <i class="fas fa-cogs"></i>
                    <span>Settings</span>
                </li>
            </ul>
            <div class="admin-footer">
                <a href="../index.html" class="back-to-site">
                    <i class="fas fa-arrow-left"></i>
                    Back to Site
                </a>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="admin-main">
            <header class="admin-header">
                <h1 id="section-title">Dashboard</h1>
                <div class="admin-actions">
                    <button id="save-all" class="btn btn-primary">
                        <i class="fas fa-save"></i>
                        Save All Changes
                    </button>
                    <button id="preview-site" class="btn btn-secondary">
                        <i class="fas fa-eye"></i>
                        Preview Site
                    </button>
                </div>
            </header>

            <!-- Dashboard Section -->
            <section id="dashboard-section" class="admin-section active">
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="card-icon">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <div class="card-content">
                            <h3>Pages</h3>
                            <p class="card-number" id="total-pages">9</p>
                            <p class="card-description">Total pages in website</p>
                        </div>
                    </div>
                    <div class="dashboard-card">
                        <div class="card-icon">
                            <i class="fas fa-images"></i>
                        </div>
                        <div class="card-content">
                            <h3>Media Files</h3>
                            <p class="card-number" id="total-media">0</p>
                            <p class="card-description">Images, videos, documents</p>
                        </div>
                    </div>
                    <div class="dashboard-card">
                        <div class="card-icon">
                            <i class="fas fa-edit"></i>
                        </div>
                        <div class="card-content">
                            <h3>Editable Elements</h3>
                            <p class="card-number" id="total-editable">0</p>
                            <p class="card-description">Text elements ready for editing</p>
                        </div>
                    </div>
                    <div class="dashboard-card">
                        <div class="card-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="card-content">
                            <h3>Last Updated</h3>
                            <p class="card-number" id="last-updated">Never</p>
                            <p class="card-description">Last content modification</p>
                        </div>
                    </div>
                </div>

                <div class="recent-activity">
                    <h3>Recent Activity</h3>
                    <div class="activity-list" id="activity-list">
                        <p class="no-activity">No recent activity</p>
                    </div>
                </div>
            </section>

            <!-- Page Editor Section -->
            <section id="pages-section" class="admin-section">
                <div class="page-selector">
                    <label for="page-select">Select Page to Edit:</label>
                    <select id="page-select" class="form-control">
                        <option value="">Choose a page...</option>
                        <option value="index.html">Home Page</option>
                        <option value="pages/about/mission.html">About - Mission</option>
                        <option value="pages/about/vision.html">About - Vision</option>
                        <option value="pages/about/team.html">About - Team</option>
                        <option value="pages/about/organization.html">About - Organization</option>
                        <option value="pages/about/governance.html">About - Governance</option>
                        <option value="pages/about/locations.html">About - Locations</option>
                        <option value="pages/projects.html">Projects</option>
                        <option value="pages/focus-areas/agriculture.html">Focus Areas - Agriculture</option>
                    </select>
                </div>

                <div class="page-editor" id="page-editor" style="display: none;">
                    <div class="editor-toolbar">
                        <button id="add-text-section" class="btn btn-primary">
                            <i class="fas fa-plus"></i>
                            Add Text Section
                        </button>
                        <button id="add-image-section" class="btn btn-secondary">
                            <i class="fas fa-image"></i>
                            Add Image Section
                        </button>
                        <button id="save-page" class="btn btn-success">
                            <i class="fas fa-save"></i>
                            Save Page
                        </button>
                    </div>

                    <div class="editor-content">
                        <div class="page-preview">
                            <h3>Page Preview</h3>
                            <iframe id="page-preview-frame" src="" width="100%" height="600px"></iframe>
                        </div>
                        
                        <div class="content-editor">
                            <h3>Content Sections</h3>
                            <div id="content-sections"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Media Manager Section -->
            <section id="media-section" class="admin-section">
                <div class="media-toolbar">
                    <div class="upload-buttons">
                        <button id="upload-images" class="btn btn-primary">
                            <i class="fas fa-upload"></i>
                            Upload Images
                        </button>
                        <button id="upload-videos" class="btn btn-secondary">
                            <i class="fas fa-video"></i>
                            Upload Videos
                        </button>
                        <button id="upload-documents" class="btn btn-outline">
                            <i class="fas fa-file"></i>
                            Upload Documents
                        </button>
                    </div>
                    <div class="media-filters">
                        <select id="media-filter" class="form-control">
                            <option value="all">All Media</option>
                            <option value="images">Images</option>
                            <option value="videos">Videos</option>
                            <option value="documents">Documents</option>
                        </select>
                        <input type="text" id="media-search" class="form-control" placeholder="Search media...">
                    </div>
                </div>

                <div class="media-grid" id="media-grid">
                    <div class="upload-zone" id="upload-zone">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Drag and drop files here or click to upload</p>
                        <input type="file" id="file-input" multiple accept="image/*,video/*,.pdf,.doc,.docx,.txt">
                    </div>
                </div>

                <!-- Media Detail Modal -->
                <div id="media-modal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 id="media-modal-title">Media Details</h3>
                            <button class="modal-close">&times;</button>
                        </div>
                        <div class="modal-body">
                            <div class="media-preview" id="media-preview"></div>
                            <div class="media-details">
                                <div class="form-group">
                                    <label for="media-title">Title:</label>
                                    <input type="text" id="media-title" class="form-control">
                                </div>
                                <div class="form-group">
                                    <label for="media-description">Description:</label>
                                    <textarea id="media-description" class="form-control" rows="4"></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="media-alt-text">Alt Text (for images):</label>
                                    <input type="text" id="media-alt-text" class="form-control">
                                </div>
                                <div class="form-group">
                                    <label for="media-tags">Tags:</label>
                                    <input type="text" id="media-tags" class="form-control" placeholder="Separate tags with commas">
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button id="save-media-details" class="btn btn-primary">Save Details</button>
                            <button id="copy-media-url" class="btn btn-secondary">Copy URL</button>
                            <button id="delete-media" class="btn btn-danger">Delete</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Content Editor Section -->
            <section id="content-section" class="admin-section">
                <div class="content-toolbar">
                    <select id="content-page-select" class="form-control">
                        <option value="">Select page to edit content...</option>
                        <option value="index.html">Home Page</option>
                        <option value="pages/about/mission.html">About - Mission</option>
                        <option value="pages/about/vision.html">About - Vision</option>
                        <option value="pages/about/team.html">About - Team</option>
                        <option value="pages/about/organization.html">About - Organization</option>
                        <option value="pages/about/governance.html">About - Governance</option>
                        <option value="pages/about/locations.html">About - Locations</option>
                        <option value="pages/projects.html">Projects</option>
                        <option value="pages/focus-areas/agriculture.html">Focus Areas - Agriculture</option>
                    </select>
                </div>

                <div class="content-editor-container" id="content-editor-container" style="display: none;">
                    <div class="editor-panel">
                        <h3>Rich Text Editor</h3>
                        <div id="quill-editor"></div>
                        <div class="editor-actions">
                            <button id="insert-media" class="btn btn-secondary">
                                <i class="fas fa-image"></i>
                                Insert Media
                            </button>
                            <button id="save-content" class="btn btn-primary">
                                <i class="fas fa-save"></i>
                                Save Content
                            </button>
                        </div>
                    </div>

                    <div class="content-elements">
                        <h3>Editable Elements</h3>
                        <div id="editable-elements-list"></div>
                    </div>
                </div>
            </section>

            <!-- Projects Section -->
            <section id="projects-section" class="admin-section">
                <div id="content-manager-container">
                    <!-- Content will be loaded here by content-manager.js -->
                </div>
            </section>

            <!-- Focus Areas Section -->
            <section id="focus-areas-section" class="admin-section">
                <div id="content-manager-container-focus">
                    <!-- Content will be loaded here by content-manager.js -->
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings-section" class="admin-section">
                <div class="settings-grid">
                    <div class="settings-card">
                        <h3>Backup & Restore</h3>
                        <div class="settings-actions">
                            <button id="create-backup" class="btn btn-primary">
                                <i class="fas fa-download"></i>
                                Create Backup
                            </button>
                            <button id="restore-backup" class="btn btn-secondary">
                                <i class="fas fa-upload"></i>
                                Restore Backup
                            </button>
                        </div>
                    </div>

                    <div class="settings-card">
                        <h3>Import/Export</h3>
                        <div class="settings-actions">
                            <button id="export-content" class="btn btn-primary">
                                <i class="fas fa-file-export"></i>
                                Export Content
                            </button>
                            <button id="import-content" class="btn btn-secondary">
                                <i class="fas fa-file-import"></i>
                                Import Content
                            </button>
                        </div>
                    </div>

                    <div class="settings-card">
                        <h3>Cache Management</h3>
                        <div class="settings-actions">
                            <button id="clear-cache" class="btn btn-warning">
                                <i class="fas fa-trash"></i>
                                Clear Cache
                            </button>
                            <button id="refresh-content" class="btn btn-secondary">
                                <i class="fas fa-sync"></i>
                                Refresh Content
                            </button>
                        </div>
                    </div>

                    <div class="settings-card">
                        <h3>System Info</h3>
                        <div class="system-info">
                            <p><strong>Version:</strong> 1.0.0</p>
                            <p><strong>Last Backup:</strong> <span id="last-backup">Never</span></p>
                            <p><strong>Storage Used:</strong> <span id="storage-used">0 MB</span></p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Processing...</p>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/quill/1.3.7/quill.min.js"></script>
    <script src="../assets/js/main.js"></script>
    <script src="auth.js"></script>
    <script src="content-manager.js"></script>
    <script src="admin-dashboard.js"></script>
</body>
</html>